<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>COOL PPL ON DA INTERWEBZ</title>
  <link rel="icon" type="image/x-icon" href="/favicons/normal.png"> 
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="/fonts.css">
</head>
<body>
  <header>
    <img src="cool.png" alt="COOL PPL ON DA INTERWEBZZ" class="banner-logo">
  </header>
  <div class="container" id="profiles-container">
    <!-- Profile pictures will be generated here -->
  </div>
<br><br>
  <p style="text-align: center;">To apply to be added, email me at <a href="mailto:webmaster@milkyway.moe">webmaster@milkyway.moe</a></p>
  <p style="text-align: center;">Or you can DM me on Discord at milky.hima</p>
  <br>
  <p style="text-align: center;"><a href="/" style="text-align: center;">Go home.</a></p>
  <script src="script.js"></script>
  <script type="text/javascript" async>
window['libopenmpt'] = {};
libopenmpt.locateFile = function (filename) {
  return "/chiptune2js/" + filename;
};

libopenmpt.onRuntimeInitialized = function () {
  var player = new ChiptuneJsPlayer(new ChiptuneJsConfig(-1, 50, 1)); // Adjust stereoSeparation and interpolationFilter here

  function playModTrack(modUrl) {
    player.load(modUrl, function(buffer) {
      player.play(buffer);

      // Loop the track when it ends
      player.onEnded(function() {
        player.play(buffer);
      });
    });
  }

  function resumeAudioContext() {
    if (player.context.state === 'suspended') {
      return player.context.resume();
    }
    return Promise.resolve();
  }

  // Function to handle the first user interaction
  function onFirstInteraction() {
    resumeAudioContext().then(() => {
      playModTrack('/modfiles/7he-p0rno-7uuuun.mod');
    });

    // Remove the event listeners after the first interaction
    window.removeEventListener('click', onFirstInteraction);
    window.removeEventListener('touchstart', onFirstInteraction);
  }

  // Detect if the browser is Chrome
  var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);

  if (isChrome) {
    // Attach event listeners for mouse movement and touch input
    window.addEventListener('mousemove', onFirstInteraction, { once: true });
    window.addEventListener('touchstart', onFirstInteraction, { once: true });
  } else {
    // For non-Chrome browsers, use click or touchstart
    window.addEventListener('click', onFirstInteraction, { once: true });
    window.addEventListener('touchstart', onFirstInteraction, { once: true });
  }
};
</script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/deskjet/chiptune2.js@master/libopenmpt.js" async></script>
<script type="text/javascript" src="/chiptune2js/chiptune2.js" async></script>
</body>
</html>
